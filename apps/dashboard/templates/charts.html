<script type="text/javascript">
    $(function () {
        Highcharts.setOptions({
            lang: {
                thousandsSep: ','
            }
        });

        //aggreaget data
        $.getJSON('ward-chart', (data) => {
            if (data.error == false) {
                var arr_ward = []
                var arr_total = []
                var arr_male = []
                var arr_female = []

                for (k = 0; k < data.chart.length; k++) {
                    arr_ward.push(data.chart[k].name);
                    arr_total.push(data.chart[k].total);
                    arr_male.push(data.chart[k].male);
                    arr_female.push(data.chart[k].female);
                }

                //district chart
                $('#wardChart').highcharts({
                    chart: {
                        type: 'column',
                        backgroundColor: '#FFF'
                    },
                    title: {
                        text: null
                    },
                    xAxis: {
                        categories: arr_ward,
                        crosshair: true
                    },
                    yAxis: {
                        title: {
                            text: null
                        }
                    },
                    tooltip: {
                        headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                        pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                            '<td style="padding:0"><b>{point.y:,.0f}</b></td></tr>',
                        footerFormat: '</table>',
                        shared: true,
                        useHTML: true
                    },
                    plotOptions: {
                        column: {
                            pointPadding: 0.1,
                            borderWidth: 0,
                            dataLabels: {
                                enabled: false,
                                style: {
                                    fontWeight: 'bold'
                                }
                            }
                        }
                    },
                    series: [{
                        name: 'Total',
                        color: '#1B5E20',
                        data: arr_total
                    },{
                        name: 'No. of Male',
                        color: '#42A5F5',
                        data: arr_male
                    }, {
                        name: 'No. of Female',
                        color: '#C2185B',
                        data: arr_female
                    }],
                    credits: {
                        enabled: false
                    }
                });
            }
        });
    });

</script>